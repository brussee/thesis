\chapter{Design and Architecture}
% Intro per chapter, refer to problem definition each time, where are we now, what now (for reader)
% Why this chapter
% Paragraphs
% Conclusion of contents of this chapter
% Link to next chapter

We now present a design to address the challenges and utilize the opportunities of working on a mobile device as put forward in the previous chapter.
First in terms of functionality and other requirements, second the overall system architecture.

% now we move Tribler to mobile, so... we need these:

What is the gap?
No connection between puzzle pieces, that actually works on mobile

What are the existing modules we re-use?

\section{Functional requirements}
% Functional level
% Function design
%Product design involves determining the objectives of the system. Central questions in this process are “what is feasible?”, “what is required?” and “what functions need to be fulfilled by the system?” It is a strategic decision process and it will be termed the function design 
%Function design distinguishes between innovation and improvement. Improvement usually only concerns the reorganisation or reengineering of an existing system, which implies a rearrangement of existing functions or a different interpretation of these functions. Innovation concerns the extension, reduction or modification of functions due to the introduction of new technology, resources and/or organisation.

inputs, commands and conditions
outputs, conditions
store, reuse data, backup
computations
timing and synchronization


Functional requirements

Live production (screenshots) and dissemination
Record video
Create My Channel
Add to My Channel
Search results

MultiChain

Start quickly / delay

REST HTTP JSON API

GUI

Nosetests CI


All functionality of Tribler must be usable directly from the mobile device, without the need or support for any other external device.

Because of the ubiquity of smart-phones with built-in camera one is always at hand and ready to record.
Such mobile devices are much more manageable than for example laptops with built-in camera that Tribler has been capable of running on in the past.
No opportunity has to be missed due to hassle of getting a dedicated camera and transferring the recording to a connectible device afterwards.
Therefore the camera built-in the mobile device should be used to record video or photographs with Tribler.
The usability of Tribler as a content generating tool is greatly improved by this. 

Publishing content should be one simple step for the user to perform, especially right after creating new content.
Every user must be able create his/her own channel in Tribler to publish their content, just like channels in YouTube, directly from the mobile device.
Newly discovered channels and content may be added to the GUI without user interaction.

To easily share your own channel with others the id could be transferred via NFC from device to device.
With just one-click-confirmation it should be send, and the receiving device must then be able to subscribe to this channel and start discovering the contents automatically right away.
Because this may require both devices having Tribler installed, it also must be able to share the installation package via Bluetooth or WiFi without any prerequisites on the receiving device.

Self-created content must be stored on the internal memory and processed automatically on the mobile device itself in order to avoid dependency any external processing unit.
This includes the creation of .torrent files required to share content via the bit-torrent protocol.



impliceert: gewoon opschrijven: 2 processes means communication: impliceert API

%TODO: kijk naar wat in DRAFT staat, dat zijn key dingen



\section{Non-functional requirements}


\subsection{Quality requirements}


All processing tasks should be performed in the background, so as to allow the user to continue working with Tribler or otherwise, while indicating about ongoing processing.
The GUI must be responsive to the users' input at all times, even if the amount of data shown on screen is very large.

If an error occurs that is recoverable the app should automatically retry or ask the user to correct the input if applicable.

To keep the project maintainable the entire build tool-chain must be integrated in the continuous integration and build server of Tribler.
All existing tests should also be performed on Android, with modifications for platform specific tests.
Also all unit tests and integration tests must cover as much code as possible and should be executed on every build.


responsivitity through separation of front and backend


non-bloated

alleen key dingen hiervan:

response time
throughput
resource usage
reliability
availability
recover from failure
maintainability and enhancement
re-usability

\subsection{Platform requirements}

computing platform: min. system specs and features, api level
technology to be used: programming language, db

The minimum API level of Android should support WiFi, Bluetooth and NFC features.



\subsection{Process requirements}

development process / methodology
cost
delivery date







\section{System architecture}
% Design level

systeemdiagram

\begin{figure}[h]
	\centering
	\includegraphics[width=\textwidth]{system_architecture}
	\caption{System architecture}
	\label{fig:system_architecture}
\end{figure}


Previous attempts at creating an Android version of Tribler failed with regards to maintainability.
Poor separation of front-end and back-end meant re-use of the core modules was hard to maintain.
The new architecture clearly separates tasks of the GUI and background operations.


