\documentclass[]{report}

\title{Creating a self-organizing video-on-demand  platform for mobile devices}
\author{P.W.G. Brussee}

\begin{document}
\maketitle

\begin{abstract}
	Abstract
\end{abstract}


\chapter{Introduction}
Lots of Videos on Social media \cite{REF}

privacy enhancing technologies
Youtube-like, social media experience

social media is dominated by silicon valley


\section{Related work}
tsap
at3
tribler-mobile (ppsp-twitter)


\section{Problem description}



\chapter{Design}

\section{Common Core}
10 years of Python code 
reusable multi-platform: Windows Mac Linux


Native Android app for Tribler with Java+xml GUI.
Using https://github.com/kivy/python-for-android to run Tribler python code as a native Android service.
The app communicates with the python service via the new rest api.



\chapter{Implementation}


we transfered the first generation bash script into a more involved python tool chain ecosystem
the p4a project accepted our first contribution the same day
our approach for this .. we focused on the low hanging fruit first to benefit from the learning effect
the first task consisted of porting the python bindings for 15 - 30+ commonly used libraries to Android [recipe example code block]

\subsection*{List of problems encountered}
cross-compile boost libs compileflags just PTHREADS
python bindings libtorrent soname conflict


sqlite3 builtin module (CPPFLAGS instead of CFLAGS, no patch setup.py after all, dispersy doesn't use aspw)


no shell acces from Popen() means only single binaries instead of normal commands

adding a native jni start environment shifts keyword arguments



\section{Python on Android}
Open source project Python-for-Android is capable of running python code.

\emph{My contributions:}
\begin{itemize}
	\item add service only bootstrap
	\item recipe (missing) for all dependencies
	\item bug fixes in build tool chain
\end{itemize}


\section{Rest API}

\emph{My contributions:}
\begin{itemize}
	\item create channel
	\item create torrent
	\item add torrent to channel
	\item async download and add torrent to channel from url and magnet links
	\item remote shutdown
\end{itemize}

\section{Common Core}

\emph{My contributions:}
\begin{itemize}
	\item correct paths for Android
	\item setup.py rewrite
	\item improve error handling in test runner
	\item various threading bug fixes
\end{itemize}


\section{Native Android App}
Gui for common core back-end and rest api in between.

\emph{My contributions:}
\begin{itemize}
	\item Native service wrapper for Python process
	\item GUI:
	\item create own channel
	\item record video
	\item create torrent file
	\item add torrent to own channel
	\item search torrents and channels
	\item voice search integration
	\item view channel contents
	\item download torrent
	\item launch video viewer
	\item mark and un-mark channel as favorite
\end{itemize}



\chapter{Performance Analysis}

\section{Typical System Load}
Graph showing cpu and memory consumption from fresh install to an hour idling. No tunnels.

Graph showing cpu and memory consumption with max. 10 tunnels after an hour idling.

Graph showing cpu and memory consumption during single download after an hour idling. No tunnels.

Graph showing cpu and memory consumption during streaming HD video after an hour idling. No tunnels.


\section{CProfiler Analysis}
Graph showing wall clock time spend on functions running 10 minutes during first half hour with max. 10 tunnels.


\section{Test Suite Performance}
Graph showing total run time and average run time per test.


\section{Multi-chain Scalability Experiment}
Graph showing scalability or lack thereof of the multi-chain record creation cost.



\end{document}          
